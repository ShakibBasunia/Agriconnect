<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FarmBot Chat</title>
<style>
    /* Reset & Box-Sizing */
    * { margin:0; padding:0; box-sizing:border-box; }

    body {
        font-family: 'Poppins', sans-serif;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;

        /* ðŸŒ¿ Background Image */
        background: url("bg.jpeg");
        background-size: cover;
        position: relative;
    }

    /* Overlay effect for better readability */
    body::before {
        content: "";
        position: absolute;
        top:0; left:0; right:0; bottom:0;
        background: rgba(255,255,255,0.6); /* à¦¹à¦¾à¦²à¦•à¦¾ à¦¸à¦¾à¦¦à¦¾ à¦²à§‡à§Ÿà¦¾à¦° */
        z-index: 0;
    }

    nav {
        position: absolute;
        top:0; left:0; width:100%;
        background: #43a047;
        color:white;
        padding: 15px 30px;
        font-size: 24px;
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        z-index: 2;
    }

    nav a {
        color:white;
        text-decoration:none;
        font-size: 18px;
        margin-left: 20px;
        transition: 0.3s;
    }

    nav a:hover { text-decoration: underline; }

    .chat-container {
        width: 360px;
        background: rgba(255,255,255,0.95);
        border-radius: 25px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        display: flex;
        flex-direction: column;
        padding: 15px;
        position: relative;
        z-index: 2;
    }

    .chat-box { display: flex; flex-direction: column; }

    .chat-header {
        background: #43a047;
        color:white;
        text-align:center;
        padding:12px 0;
        border-radius: 20px 20px 0 0;
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 12px;
    }

    .chat-content {
        height: 300px;
        overflow-y: auto;
        padding:10px;
        border-radius: 15px;
        background: #f4f7f6;
        border: 1px solid #c5e1a5;
        scroll-behavior: smooth;
    }

    .chat-input {
        display: flex;
        gap:10px;
        margin-top: 10px;
    }

    .chat-input input {
        flex:1;
        padding:12px 15px;
        border-radius: 25px;
        border:1px solid #43a047;
        font-size:14px;
        transition: all 0.3s;
    }

    .chat-input input:focus {
        outline:none;
        box-shadow:0 0 8px #43a047;
    }

    .chat-input button {
        padding:12px 20px;
        border:none;
        background:#43a047;
        color:white;
        font-weight:600;
        border-radius:25px;
        cursor:pointer;
        transition: all 0.3s;
        box-shadow:0 0 8px rgba(67,160,71,0.6);
    }

    .chat-input button:hover {
        background:#388e3c;
        box-shadow:0 0 15px rgba(67,160,71,0.8);
    }

    /* Messages */
    .user, .farmBot {
        padding:12px 16px;
        margin:8px 0;
        border-radius:20px;
        max-width:85%;
        line-height:1.4;
        font-size:15px;
        animation: fadeIn 0.4s ease-in-out;
    }

    .user {
        background:#43a047;
        color:white;
        align-self:flex-end;
        border-radius:15px 15px 0 15px;
    }

    .farmBot {
        background:#e0f2f1;
        color:#2e7d32;
        align-self:flex-start;
        border-radius:15px 15px 15px 0;
        font-weight:500;
    }

    .farmBot:before {
        content:"FarmBot: ";
        font-weight:bold;
    }

    @keyframes fadeIn { 0%{opacity:0} 100%{opacity:1} }

    /* Typing dots */
    .typing { display:inline-block; width:10px; height:10px; background:#43a047; border-radius:50%; margin-right:4px; animation: typing 1.4s infinite; }
    .typing:nth-child(2){ animation-delay:0.3s; }
    .typing:nth-child(3){ animation-delay:0.6s; }

    @keyframes typing { 0%,100%{opacity:0;} 50%{opacity:1;} }

    /* Responsive */
    @media(max-width:400px){
        .chat-container{width:90%;}
        nav{flex-direction:column; gap:10px;}
    }
</style>
</head>
<body>
<nav>
    FarmBot Chat
    <a href="farmer_dashboard.php">Dashboard</a>
</nav>

<div class="chat-container">
    <div class="chat-box">
        <div class="chat-header">Welcome to FarmBot!</div>
        <div class="chat-content" id="chatContent"></div>
        <div class="chat-input">
            <input type="text" id="userInput" placeholder="Ask FarmBot...">
            <button id="sendBtn">Send</button>
        </div>
    </div>
</div>

<script>
    const sendBtn = document.getElementById('sendBtn');
    const chatContent = document.getElementById('chatContent');
    const userInput = document.getElementById('userInput');

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') sendMessage();
    });

    function sendMessage() {
        const msg = userInput.value.trim();
        if(!msg) return;

        displayMessage('user', msg);
        userInput.value='';

        const typing = document.createElement('div');
        typing.classList.add('farmBot');
        typing.innerHTML = '<span class="typing"></span><span class="typing"></span><span class="typing"></span>';
        chatContent.appendChild(typing);
        chatContent.scrollTop = chatContent.scrollHeight;

        // Example API call (replace with your backend)
        setTimeout(() => {
            typing.remove();
            displayMessage('farmBot', "ðŸŒ± This is a demo response from FarmBot!");
        }, 1500);
    }

    function displayMessage(role, message) {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add(role);
        msgDiv.textContent = message;
        chatContent.appendChild(msgDiv);
        chatContent.scrollTop = chatContent.scrollHeight;
    }
</script>
</body>
</html>
